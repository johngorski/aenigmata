<!DOCTYPE html>
<html>
    <head>
    <title></title>
    </head>
    <body>
        <div align="center">
            debug: <input id="debug" type="text" />
        </div>
        <div id="display" align="center"><canvas id="puzzle"></canvas></div>
        <script type="text/javascript" src="solve.js"></script>
        <script type="text/javascript">
            "use strict";
            var puzzleCanvas = document.getElementById("puzzle");

            var puzzle = gerrymanderPuzzle();

            // when the canvas is clicked, the puzzle may change.

            puzzleCanvas.addEventListener("click", function(e) {
                // get changes to puzzle based on click
                // if there are changes,
                //   apply them to the puzzle
                //   redraw the puzzle
                var changes = dispatchCellClickEvents({
                    x: e.x - puzzleCanvas.offsetLeft,
                    y: e.y - puzzleCanvas.offsetTop
                });

                if (changes.length > 0) {
                    changes.forEach(function(change) {
                        puzzle = change(puzzle);
                    });
                    draw(puzzle, puzzleCanvas);
                }
            });

            draw(puzzle, puzzleCanvas);
        </script>
    </body>
</html>
